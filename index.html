<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>¬°Feliz Cumplea√±os, mi Amor Yessi!</title>
  <style>
    body {
      background: linear-gradient(135deg, #ffb6c1 0%, #ffd6e0 100%);
      font-family: 'Segoe UI', Arial, sans-serif;
      text-align: center;
      overflow-x: hidden;
      margin: 0;
      padding: 0;
    }
    h1 {
      color: #d72660;
      font-size: 2.5em;
      margin-top: 40px;
      margin-bottom: 0.2em;
      text-shadow: 0 4px 16px #fff9;
    }
    .gift-box {
      width: 210px;
      height: 210px;
      margin: 40px auto 18px auto;
      position: relative;
      cursor: pointer;
      perspective: 900px;
      transition: transform 0.3s;
      z-index: 10;
    }
    .box {
      width: 100%;
      height: 100%;
      background: #fff;
      border-radius: 20px 20px 16px 16px;
      box-shadow: 0 12px 50px #d7266050;
      position: absolute;
      bottom: 0;
      left: 0;
      transition: transform 0.8s cubic-bezier(0.2,1.5,0.3,1);
      z-index: 2;
    }
    .lid {
      width: 100%;
      height: 60px;
      background: #d72660;
      border-radius: 20px 20px 10px 10px;
      position: absolute;
      top: -35px;
      left: 0;
      transition: all 0.7s cubic-bezier(0.2,1.5,0.3,1);
      z-index: 3;
    }
    .ribbon-vertical, .ribbon-horizontal {
      position: absolute;
      background: #ffe066;
      z-index: 4;
    }
    .ribbon-vertical {
      width: 38px;
      height: 210px;
      left: 86px;
      top: 0;
      border-radius: 18px;
    }
    .ribbon-horizontal {
      height: 38px;
      width: 210px;
      left: 0;
      top: 86px;
      border-radius: 18px;
    }
    .bow {
      width: 60px;
      height: 30px;
      background: #ffe066;
      border-radius: 50% 50% 0 0;
      position: absolute;
      top: -50px;
      left: 75px;
      z-index: 5;
      box-shadow: 0 2px 12px #d7266060;
    }
    .message {
      position: absolute;
      top: 110px;
      left: 50%;
      transform: translateX(-50%);
      width: 96%;
      font-size: 1.3em;
      color: #d72660;
      opacity: 0;
      z-index: 0;
      transition: opacity 1s;
      background: rgba(255,255,255,0.97);
      border-radius: 20px;
      padding: 38px 12px 38px 12px;
      box-shadow: 0 2px 28px #d7266040;
      pointer-events: none;
      min-height: 340px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .show-message .message {
      opacity: 1;
      z-index: 20;
      pointer-events: auto;
      animation: showmsg 1.5s cubic-bezier(.12,1.4,.47,1.01);
    }
    @keyframes showmsg {
      0% { opacity: 0; transform: translateX(-50%) scale(0.8);}
      80% { opacity: 1; transform: translateX(-50%) scale(1.04);}
      100% { opacity: 1; transform: translateX(-50%) scale(1);}
    }
    .open .lid {
      transform: rotateX(150deg) translateY(-80px);
      box-shadow: 0 32px 50px #d7266030;
    }
    .open .box {
      transform: translateY(30px) scaleY(0.93);
    }
    .click-to-open {
      font-size: 1.12em;
      color: #444;
      margin-top: 10px;
      animation: blink 1.5s linear infinite;
      text-shadow: 0 1px 8px #fff8;
      user-select: none;
    }
    @keyframes blink {
      0%,100% { opacity:1; }
      50% { opacity:0.33; }
    }
    /* Corazones */
    .heart {
      position: fixed;
      color: #e63946;
      font-size: 2em;
      animation: fall 4s linear infinite;
      user-select: none;
      pointer-events: none;
      z-index: 1000;
      opacity: 0.85;
      filter: drop-shadow(0 2px 6px #e6394633);
    }
    @keyframes fall {
      0% {transform: translateY(-70px) scale(1) rotate(-10deg); opacity: 0.8;}
      50% {opacity: 1; transform: translateY(40vh) scale(1.1) rotate(10deg);}
      100% {transform: translateY(100vh) scale(1) rotate(-5deg); opacity: 0.1;}
    }
    /* Youtube player style */
    #music {
      margin: 32px auto 0 auto;
      display: none;
      transition: opacity 1s;
      opacity: 0;
      max-width: 100%;
    }
    .show-music #music {
      display: block;
      opacity: 1;
    }
    /* Destellos */
    #sparkle-container {
      position: absolute;
      left: 0; top: 0; width: 100%; height: 100%; pointer-events: none; z-index: 50;
    }
    .sparkle {
      position: absolute;
      width: 18px;
      height: 18px;
      pointer-events: none;
      background: radial-gradient(circle, #fff6 60%, #ffe066 90%, transparent 100%);
      border-radius: 50%;
      opacity: 0.9;
      animation: sparkle-anim 1.1s linear forwards;
      box-shadow: 0 0 12px #ffd166, 0 0 24px #f9c74f;
    }
    @keyframes sparkle-anim {
      0% { transform: scale(0.2) rotate(0deg); opacity: 0.9; }
      60% { transform: scale(1.8) rotate(180deg); opacity: 1; }
      90% { transform: scale(0.8) rotate(270deg); opacity: 0.6; }
      100% { transform: scale(0.1) rotate(360deg); opacity: 0; }
    }
    /* Fuegos artificiales */
    .firework {
      position: fixed;
      width: 8px;
      height: 8px;
      border-radius: 50%;
      background: #ffd166;
      z-index: 2000;
      pointer-events: none;
      opacity: 0.95;
      animation: firework-explode 1.3s cubic-bezier(.5,1.6,.4,1);
    }
    @keyframes firework-explode {
      0% { opacity: 1; transform: scale(0.3);}
      60% { opacity: 1;}
      100% { opacity: 0; transform: scale(2.7);}
    }
    /* Imagen rom√°ntica */
    .romantic-img {
      margin: 16px 0 8px 0;
      border-radius: 12px;
      box-shadow: 0 4px 32px #d7266020;
      max-width: 240px;
      width: 95%;
      border: 3px solid #ffe066;
      background: #fff;
    }
    /* responsive */
    @media (max-width: 600px) {
      .gift-box {width: 150px; height: 150px;}
      .ribbon-vertical {width: 22px; left: 64px;}
      .ribbon-horizontal {height: 22px; top: 64px;}
      .bow {width: 32px; left: 54px; top: -28px;}
      .message {min-height: 180px; font-size: 1em; padding: 14px 2px 16px 2px;}
      .romantic-img {max-width: 95vw;}
    }
  </style>
</head>
<body>
  <h1>¬°Feliz Cumplea√±os, mi Amor Yessi! üíñ</h1>
  <div class="gift-box" id="giftBox">
    <div class="lid"></div>
    <div class="bow"></div>
    <div class="ribbon-vertical"></div>
    <div class="ribbon-horizontal"></div>
    <div class="box"></div>
    <div class="message" id="message">
      <div id="sparkle-container"></div>
      <!-- Imagen rom√°ntica (¬°puedes cambiar el src por el que desees!) -->
      <img src="https://media.giphy.com/media/3oz8xKaR836UJOYeOc/giphy.gif" class="romantic-img" alt="Amor">
      <div id="typewriter" style="margin-top:10px; text-align:center;"></div>
    </div>
  </div>
  <div class="click-to-open" id="clickToOpen">Haz click en la caja para abrir tu regalo üéÅ</div>
  <!-- M√∫sica rom√°ntica de fondo -->
  <div id="music">
    <iframe width="320" height="180" src="https://www.youtube.com/embed/6zQx2xQ6gJk?autoplay=1" title="Bajo el Agua - Manuel Medrano" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
    <div style="color:#d72660; font-size:1.12em; margin-top:8px;">
      <strong>‚ô´ Bajo el Agua - Manuel Medrano ‚ô´</strong>
    </div>
  </div>
  <script>
    // Lluvia de corazones
    function createHeart() {
      const heart = document.createElement('div');
      heart.classList.add('heart');
      heart.innerHTML = "&#10084;";
      heart.style.left = Math.random() * 98 + "vw";
      heart.style.fontSize = (Math.random() * 1.5 + 1.2) + "em";
      heart.style.animationDuration = (Math.random() * 2 + 3) + "s";
      document.body.appendChild(heart);
      setTimeout(() => heart.remove(), 5000);
    }
    setInterval(createHeart, 380);

    // Efecto explosivo/confeti
    function explodeConfetti(x, y) {
      const colors = ['#e63946', '#ffd166', '#06d6a0', '#118ab2', '#ffb6c1', '#d72660'];
      for (let i = 0; i < 60; i++) {
        const confetti = document.createElement('div');
        confetti.style.position = 'fixed';
        confetti.style.zIndex = 2000;
        confetti.style.width = confetti.style.height = Math.random() * 8 + 6 + 'px';
        confetti.style.borderRadius = '50%';
        confetti.style.background = colors[Math.floor(Math.random()*colors.length)];
        confetti.style.left = (x - 10) + 'px';
        confetti.style.top = (y - 10) + 'px';
        confetti.style.opacity = "0.9";
        confetti.style.pointerEvents = "none";
        confetti.style.transition = "all 1s cubic-bezier(.5,1.6,.4,1)";
        document.body.appendChild(confetti);

        setTimeout(() => {
          confetti.style.transform = `translate(${(Math.random()-0.5)*350}px, ${-Math.random()*240-80}px) rotate(${Math.random()*520}deg)`;
          confetti.style.opacity = "0";
        }, 10);

        setTimeout(() => confetti.remove(), 1200);
      }
    }

    // Animaci√≥n de destellos (sparkles)
    function createSparkle(x, y) {
      const sparkle = document.createElement('div');
      sparkle.className = 'sparkle';
      sparkle.style.left = x + 'px';
      sparkle.style.top = y + 'px';
      document.getElementById('sparkle-container').appendChild(sparkle);
      setTimeout(() => sparkle.remove(), 1100);
    }

    // Fuegos artificiales
    function firework(x, y) {
      for (let i = 0; i < 24; i++) {
        setTimeout(() => {
          const fw = document.createElement('div');
          fw.className = 'firework';
          fw.style.left = (x + Math.cos(i/12*Math.PI*2)*Math.random()*90) + 'px';
          fw.style.top = (y + Math.sin(i/12*Math.PI*2)*Math.random()*90) + 'px';
          fw.style.background = ['#ffd166','#d72660','#06d6a0','#118ab2','#e63946'][i%5];
          document.body.appendChild(fw);
          setTimeout(() => fw.remove(), 1300);
        }, Math.random()*500);
      }
    }

    // M√°quina de escribir para el mensaje rom√°ntico
    const lines = [
      "¬°Sorpresa, mi amor! üéâüíñ",
      "",
      "Hoy el universo celebra el d√≠a en que la persona m√°s especial lleg√≥ a iluminar mi vida.",
      "",
      "Cada uno de tus abrazos son mi refugio, tus sonrisas mi alegr√≠a diaria y tu amor mi fortuna m√°s grande.",
      "",
      "Eres mi sue√±o cumplido, mi compa√±era, mi mejor amiga y la due√±a absoluta de mi coraz√≥n.",
      "",
      "Que este nuevo a√±o est√© lleno de magia, aventuras y momentos que te hagan brillar como los fuegos artificiales en el cielo.",
      "",
      "Gracias por ser mi musa, mi inspiraci√≥n y mi raz√≥n de sonre√≠r cada ma√±ana.",
      "",
      "Te amo infinitamente, Yessi. ¬°Feliz cumplea√±os!",
      "",
      "Siempre tuyo, tu novio Tommy üíå"
    ];

    let currentLine = 0;
    let currentChar = 0;
    let displayText = "";
    let typewriterDiv = document.getElementById('typewriter');

    function typeLine() {
      if (currentLine < lines.length) {
        if (currentChar < lines[currentLine].length) {
          displayText += lines[currentLine][currentChar];
          typewriterDiv.innerHTML = displayText.replace(/\n/g, "<br>");
          currentChar++;
          setTimeout(typeLine, 35 + Math.random()*45); // velocidad variable
        } else {
          displayText += "<br>";
          currentLine++;
          currentChar = 0;
          setTimeout(typeLine, 350);
        }
      }
    }

    // Elementos
    const giftBox = document.getElementById('giftBox');
    const message = document.getElementById('message');
    const clickToOpen = document.getElementById('clickToOpen');
    const music = document.getElementById('music');

    // Evento de abrir regalo
    giftBox.addEventListener('click', function(e) {
      giftBox.classList.add('open', 'show-message');
      document.body.classList.add('show-music');
      clickToOpen.style.display = 'none';
      // Mostrar m√∫sica
      music.style.display = 'block';
      setTimeout(() => music.style.opacity = 1, 50);

      // Coordenadas del centro de la caja para el confetti y fuegos artificiales
      const rect = giftBox.getBoundingClientRect();
      const centerX = rect.left + rect.width / 2;
      const centerY = rect.top + rect.height / 2;
      explodeConfetti(centerX, centerY);

      // Sparkles en el mensaje
      for (let i = 0; i < 26; i++) {
        setTimeout(() => {
          const msgRect = message.getBoundingClientRect();
          const x = Math.random() * msgRect.width;
          const y = Math.random() * msgRect.height;
          createSparkle(x, y);
        }, Math.random() * 800);
      }

      // Fuegos artificiales en la parte superior del mensaje
      const msgRect = message.getBoundingClientRect();
      const fwX = msgRect.left + msgRect.width/2;
      const fwY = msgRect.top + 40;
      firework(fwX, fwY);

      // Mensaje m√°quina de escribir
      setTimeout(() => {
        displayText = ""; currentLine = 0; currentChar = 0;
        typewriterDiv.innerHTML = "";
        typeLine();
      }, 500);
    }, { once: true });
  </script>
</body>
</html>